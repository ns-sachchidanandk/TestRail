{
    "updated_cases": [
        {
            "id": 1651374,
            "title": "validate new transaction event fields populate correctly - NA for R107",
            "section_id": 114895,
            "template_id": 1,
            "type_id": 6,
            "priority_id": 2,
            "milestone_id": null,
            "refs": null,
            "created_by": 339,
            "created_on": 1686939999,
            "updated_by": 729,
            "updated_on": 1736856005,
            "estimate": null,
            "estimate_forecast": null,
            "suite_id": 921,
            "display_order": 98,
            "is_deleted": 0,
            "case_assignedto_id": null,
            "custom_automation_type": 0,
            "custom_automatable": 0,
            "custom_automated": 0,
            "custom_deprecatedtestcase": false,
            "custom_ui_case": 1,
            "custom_automation_id": null,
            "custom_hack_functional_sub_categories": 1,
            "custom_hack_test_categories": 3,
            "custom_hack_jira_escalated": false,
            "custom_appliance_support": null,
            "custom_sub_component": 48,
            "custom_testrail_bdd_scenario": null,
            "custom_summary": null,
            "custom_preconds": "Transaction event",
            "custom_steps": "- Enable Policy based egressIP feature flag\n- Setup egressip policy for a domain to use Dedicated egressiP \n- Route traffic accordingly and review Transaction event logs\n- Review existing field such as Domain and new fields - \"eip-type\", \"eip-policy\", \"orig-eip-policy\" and \"orig-domain\"",
            "custom_expected": "- As this is simple egress ip policy match scenario, expcted value for transaction event as follow:\n \"eip-type\" - \"deip\", \n\"eip-policy\" - \"deip\"\n\"orig-eip-policy\"-  \"deip\"\n\"orig-domain\" - \"<domain_name>\"\n\nPossible values:\n\"eip-type\" - \u00e2\u20ac\u0153deip\u00e2\u20ac\ufffd, \u00e2\u20ac\u0153vpop\u00e2\u20ac\ufffd, or \u00e2\u20ac\u0153std\u00e2\u20ac\ufffd\n\"eip-policy\" - empty if feature disabled, otherwise: \u00e2\u20ac\u0153deip\u00e2\u20ac\ufffd, or \u00e2\u20ac\u0153other\u00e2\u20ac\ufffd\n\"orig-eip-policy\" - empty if feature disabled, otherwise: \u00e2\u20ac\u0153deip\u00e2\u20ac\ufffd, or \u00e2\u20ac\u0153other\u00e2\u20ac\ufffd\n\"orig-domain\" - A string containing the domain",
            "custom_steps_separated": null,
            "custom_mission": null,
            "custom_goals": null,
            "comments": [],
            "custom_keyword": [],
            "custom_stack_label": []
        },
        {
            "id": 1651375,
            "title": "Validate traffic flow uses existing backend connection with no deip applied and new transaction event fields populate correctly - NA for R107",
            "section_id": 114895,
            "template_id": 1,
            "type_id": 6,
            "priority_id": 2,
            "milestone_id": null,
            "refs": null,
            "created_by": 339,
            "created_on": 1686939999,
            "updated_by": 729,
            "updated_on": 1736856005,
            "estimate": null,
            "estimate_forecast": null,
            "suite_id": 921,
            "display_order": 99,
            "is_deleted": 0,
            "case_assignedto_id": null,
            "custom_automation_type": 0,
            "custom_automatable": 0,
            "custom_automated": 0,
            "custom_deprecatedtestcase": false,
            "custom_ui_case": 1,
            "custom_automation_id": null,
            "custom_hack_functional_sub_categories": 1,
            "custom_hack_test_categories": 3,
            "custom_hack_jira_escalated": false,
            "custom_appliance_support": null,
            "custom_sub_component": 48,
            "custom_testrail_bdd_scenario": null,
            "custom_summary": null,
            "custom_preconds": "Transaction event",
            "custom_steps": "- Enable Policy based egressIP feature flag\n- Setup egressip policy [using negate or domian not part of egressip policy] to not use Dedicated egressiP \n- use same connection to browse other page on same connection - [which is expected hit egressip policy ]\n- Route traffic accordingly and review Transaction event logs\n- Review existing field such as Domain and new fields - \"eip-type\", \"eip-policy\", \"orig-eip-policy\" and \"orig-domain\"",
            "custom_expected": "- for 2nd flow, it may expected to hit DEIP however it countinue to use existing backend connection hence, expcted value for transaction event as follow:\n \"eip-type\" - \"std\", \n\"eip-policy\" - \"deip\"\n\"orig-eip-policy\"-  \"other\"\n\"orig-domain\" - \"<domain_name>\"\n\nPossible values:\n\"eip-type\" - \u00e2\u20ac\u0153deip\u00e2\u20ac\ufffd, \u00e2\u20ac\u0153vpop\u00e2\u20ac\ufffd, or \u00e2\u20ac\u0153std\u00e2\u20ac\ufffd\n\"eip-policy\" - empty if feature disabled, otherwise: \u00e2\u20ac\u0153deip\u00e2\u20ac\ufffd, or \u00e2\u20ac\u0153other\u00e2\u20ac\ufffd\n\"orig-eip-policy\" - empty if feature disabled, otherwise: \u00e2\u20ac\u0153deip\u00e2\u20ac\ufffd, or \u00e2\u20ac\u0153other\u00e2\u20ac\ufffd\n\"orig-domain\" - A string containing the domain",
            "custom_steps_separated": null,
            "custom_mission": null,
            "custom_goals": null,
            "comments": [],
            "custom_keyword": [],
            "custom_stack_label": []
        },
        {
            "id": 1651376,
            "title": "Vadalite new transaction event fields empty; if Egressip policy feature flag disable and no crash - NA for R107",
            "section_id": 114895,
            "template_id": 1,
            "type_id": 6,
            "priority_id": 2,
            "milestone_id": null,
            "refs": null,
            "created_by": 339,
            "created_on": 1686939999,
            "updated_by": 729,
            "updated_on": 1736856005,
            "estimate": null,
            "estimate_forecast": null,
            "suite_id": 921,
            "display_order": 100,
            "is_deleted": 0,
            "case_assignedto_id": null,
            "custom_automation_type": 0,
            "custom_automatable": 1,
            "custom_automated": 1,
            "custom_deprecatedtestcase": false,
            "custom_ui_case": 1,
            "custom_automation_id": null,
            "custom_hack_functional_sub_categories": 1,
            "custom_hack_test_categories": 3,
            "custom_hack_jira_escalated": false,
            "custom_appliance_support": null,
            "custom_sub_component": 48,
            "custom_testrail_bdd_scenario": null,
            "custom_summary": null,
            "custom_preconds": "Transaction event",
            "custom_steps": "- Disable policy based egressip feature flag, enable deip for all traffic\n- Route some traffic and it should use DEIP for all traffic \n- Review trasanction event logs and field values\n- Verify no crash noted",
            "custom_expected": "- as connection is using DEIP(for all traffic) even when new feature flag is disabled, expected Transaction event field values:\n \"eip-type\" - \"deip\", \n\"eip-policy\" - \"\"                      <---------- Empty field\n\"orig-eip-policy\"-  \"\"               <---------- Empty field\n\"orig-domain\" - \"<domain_name>\"",
            "custom_steps_separated": null,
            "custom_mission": null,
            "custom_goals": null,
            "comments": [],
            "custom_keyword": [],
            "custom_stack_label": []
        },
        {
            "id": 1651377,
            "title": "Validate Egress ip policy is NOT Matched ; VPOP is enabled; Egress IP applied as VPOP IP",
            "section_id": 114895,
            "template_id": 1,
            "type_id": 6,
            "priority_id": 4,
            "milestone_id": null,
            "refs": null,
            "created_by": 339,
            "created_on": 1686939999,
            "updated_by": 729,
            "updated_on": 1736856005,
            "estimate": null,
            "estimate_forecast": null,
            "suite_id": 921,
            "display_order": 101,
            "is_deleted": 0,
            "case_assignedto_id": null,
            "custom_automation_type": 0,
            "custom_automatable": 1,
            "custom_automated": 1,
            "custom_deprecatedtestcase": false,
            "custom_ui_case": 1,
            "custom_automation_id": null,
            "custom_hack_functional_sub_categories": 1,
            "custom_hack_test_categories": 3,
            "custom_hack_jira_escalated": false,
            "custom_appliance_support": null,
            "custom_sub_component": 48,
            "custom_testrail_bdd_scenario": null,
            "custom_summary": null,
            "custom_preconds": "VPOP",
            "custom_steps": "- Create Egress IP policy; with combination of supported attributes\n- Review egress_ip_policy.json schema\n- Verify VPOP is enabled on the tenant [Review with Mohammed Sabith on setup details]\n- Route traffics from ns-client or on proxy does NOT matching ANY attributes\n [curl -k -H'host: www.box.com' -H'x-ns-tenant-id: 6274' -H'x-forwarded-for:23.34.5.2' -H'X-Authenticated-User: user-mv-14@prodrestcall.locaL' http://172.16.178.20:8081/ip http://172.16.178.20:8081]\n- Review appmodule 3 logs to see so_mark is not picked \n- Review policy 1 logs, to see EgressIP policy is NOT Matched \n- Review modutil logs to see Traffic flow marked as \"other\" and VPOP IP applied [Need to review with Sabith on this validation]",
            "custom_expected": "- verify that not all traffic flows has DEI applied when egress ip policy not hit\n- Verify if none of the attribute match for traffic flow then Egress IP shows as VPOP (as enabled) and not  Default Proxy IP\n- Verify No critical errors in logs\n- Verify site loads correctly and upload/download activity works as expcted.",
            "custom_steps_separated": null,
            "custom_mission": null,
            "custom_goals": null,
            "comments": [],
            "custom_keyword": [],
            "custom_stack_label": []
        },
        {
            "id": 1651379,
            "title": "Validate Workflow with IPS enabled + Userhashlb FF enabled, egress IP policy doesn't match,  vpop is enabled",
            "section_id": 114895,
            "template_id": 1,
            "type_id": 16,
            "priority_id": 3,
            "milestone_id": null,
            "refs": null,
            "created_by": 339,
            "created_on": 1686939999,
            "updated_by": 729,
            "updated_on": 1736856005,
            "estimate": null,
            "estimate_forecast": null,
            "suite_id": 921,
            "display_order": 103,
            "is_deleted": 0,
            "case_assignedto_id": null,
            "custom_automation_type": 0,
            "custom_automatable": 1,
            "custom_automated": 1,
            "custom_deprecatedtestcase": false,
            "custom_ui_case": 1,
            "custom_automation_id": null,
            "custom_hack_functional_sub_categories": 1,
            "custom_hack_test_categories": 3,
            "custom_hack_jira_escalated": false,
            "custom_appliance_support": null,
            "custom_sub_component": 48,
            "custom_testrail_bdd_scenario": null,
            "custom_summary": null,
            "custom_preconds": "NSProxy/IPS/VPOP",
            "custom_steps": "- Enable the IPS FF + Userhashlb FF enabled\n- Create an egress IP policy with  supported attribute combinations\n- Route multiple traffic flows to proxy DOES NOT Match any of the conditions configured on EgressIP policy\n- enable debug logs for httpdump 3 on proxy B\n- Review X-NS-FLOW-DATA headers [\u00e2\u20ac\u0153egress_policy\":\"other\"] on proxy B\n- Review appmodule 3 logs to see so_mark is not picked \n- Review policy 1 logs, to see EgressIP policy is not matched  and egressIP so_mark is not applied.",
            "custom_expected": "- Verify Expected IPS Rule being applied\n- In terms of Egress IP , look for debug logs to find X-NS-FLOW-DATA headers has [\u00e2\u20ac\u0153\u00e2\u20ac\u0153egress_policy\":\"other\"] on proxy B; when VPOP IP  is applied instead of standard proxy proxy public IP, no Egress IP matched.",
            "custom_steps_separated": null,
            "custom_mission": null,
            "custom_goals": null,
            "comments": [],
            "custom_keyword": [],
            "custom_stack_label": []
        },
        {
            "id": 1651380,
            "title": "Validate Egress ip policy is NOT Matched ; VPOP is enabled; VPOP HC Failure; Egress IP fallback to Proxy standard IP pool",
            "section_id": 114895,
            "template_id": 1,
            "type_id": 6,
            "priority_id": 3,
            "milestone_id": null,
            "refs": null,
            "created_by": 339,
            "created_on": 1686939999,
            "updated_by": 729,
            "updated_on": 1736856005,
            "estimate": null,
            "estimate_forecast": null,
            "suite_id": 921,
            "display_order": 104,
            "is_deleted": 0,
            "case_assignedto_id": null,
            "custom_automation_type": 0,
            "custom_automatable": 1,
            "custom_automated": 1,
            "custom_deprecatedtestcase": false,
            "custom_ui_case": 1,
            "custom_automation_id": null,
            "custom_hack_functional_sub_categories": 1,
            "custom_hack_test_categories": 3,
            "custom_hack_jira_escalated": false,
            "custom_appliance_support": null,
            "custom_sub_component": 48,
            "custom_testrail_bdd_scenario": null,
            "custom_summary": null,
            "custom_preconds": "VPOP",
            "custom_steps": "- Create Egress IP policy; with combination of supported attributes\n- Review egress_ip_policy.json schema\n- Verify VPOP is enabled on the tenant [Review with Mohammed Sabith on setup details]\n- Simulate VPOP HC failure\n- Route traffics from ns-client or on proxy does NOT matching ANY attributes\n [curl -k -H'host: www.box.com' -H'x-ns-tenant-id: 6274' -H'x-forwarded-for:23.34.5.2' -H'X-Authenticated-User: user-mv-14@prodrestcall.locaL' http://172.16.178.20:8081/ip http://172.16.178.20:8081]\n- Review appmodule 3 logs to see so_mark is not picked \n- Review policy 1 logs, to see EgressIP policy is NOT Matched \n- Review modutil logs to see Traffic flow marked as \"other\" and VPOP IP is not applied and Egressip  fallback to Proxy standard IP pool",
            "custom_expected": "- verify that not all traffic flows has DEI applied when egress ip policy not hit\n- Verify if none of the attribute match for traffic flow then Egress IP shows as VPOP (as enabled) , hOwever due to vpop HC failure , EgressIP  fallback to Proxy standard IP pool\n- Verify No critical errors in logs\n- Verify site loads correctly and upload/download activity works as expcted.",
            "custom_steps_separated": null,
            "custom_mission": null,
            "custom_goals": null,
            "comments": [],
            "custom_keyword": [],
            "custom_stack_label": []
        },
        {
            "id": 1806455,
            "title": "Verify DEIP policy is matched and selected dedicated egress IP footprint is used",
            "section_id": 125298,
            "template_id": 1,
            "type_id": 6,
            "priority_id": 2,
            "milestone_id": null,
            "refs": "ENG-400726",
            "created_by": 398,
            "created_on": 1709679675,
            "updated_by": 729,
            "updated_on": 1736856005,
            "estimate": null,
            "estimate_forecast": null,
            "suite_id": 921,
            "display_order": 1,
            "is_deleted": 0,
            "case_assignedto_id": null,
            "custom_automation_type": 0,
            "custom_automatable": 1,
            "custom_automated": 1,
            "custom_deprecatedtestcase": false,
            "custom_ui_case": 1,
            "custom_automation_id": null,
            "custom_hack_functional_sub_categories": 1,
            "custom_hack_test_categories": 3,
            "custom_hack_jira_escalated": false,
            "custom_appliance_support": 2,
            "custom_sub_component": 48,
            "custom_testrail_bdd_scenario": null,
            "custom_summary": null,
            "custom_preconds": null,
            "custom_steps": "- Configure 'tenant_footprint.json' with two footprints and enable both.\n- Create a DEIP policy using the second footprint defined in 'tenant_footprint.json'.\n- Route traffic using either nsclient or pxc.\n- Check that the DEIP policy is matched and the corresponding Egress IP is picked.",
            "custom_expected": "- DEIP policy is matched\n- DEIP is used for traffic\n- Review appmodule 3 logs to see so_mark picked \n- Review policy 1 logs, to see EgressIP policy being picked indicated by ns_policy_apply_egress_ip_policy()",
            "custom_steps_separated": null,
            "custom_mission": null,
            "custom_goals": null,
            "comments": [],
            "custom_keyword": [],
            "custom_stack_label": []
        },
        {
            "id": 1806456,
            "title": "Verify DEIP policy is matched and selected dedicated egress IP footprint is used when one of the footprint is disabled",
            "section_id": 125298,
            "template_id": 1,
            "type_id": 6,
            "priority_id": 2,
            "milestone_id": null,
            "refs": "ENG-400726",
            "created_by": 398,
            "created_on": 1709679675,
            "updated_by": 729,
            "updated_on": 1736856005,
            "estimate": null,
            "estimate_forecast": null,
            "suite_id": 921,
            "display_order": 2,
            "is_deleted": 0,
            "case_assignedto_id": null,
            "custom_automation_type": 0,
            "custom_automatable": 1,
            "custom_automated": 1,
            "custom_deprecatedtestcase": false,
            "custom_ui_case": 1,
            "custom_automation_id": null,
            "custom_hack_functional_sub_categories": 1,
            "custom_hack_test_categories": 3,
            "custom_hack_jira_escalated": false,
            "custom_appliance_support": 2,
            "custom_sub_component": 48,
            "custom_testrail_bdd_scenario": null,
            "custom_summary": null,
            "custom_preconds": null,
            "custom_steps": "- Create a tenant_footprint.json file with two footprints, disable first and enable second one.\n- Create a DEP policy using the second footprint from the file.\n- Route traffic using nsclient or pxc.\n- Check that the DEP policy is matched and the corresponding Egress IP is picked.",
            "custom_expected": "- DEIP policy is matched\n- DEIP is used for traffic\n- Review appmodule 3 logs to see so_mark picked \n- Review policy 1 logs, to see EgressIP policy being picked indicated by ns_policy_apply_egress_ip_policy()",
            "custom_steps_separated": null,
            "custom_mission": null,
            "custom_goals": null,
            "comments": [],
            "custom_keyword": [],
            "custom_stack_label": []
        },
        {
            "id": 1806457,
            "title": "Verify that the DEIP policy is matched, and ensure that VPOP IP is used since footprint mentioned in the policy is disabled",
            "section_id": 125298,
            "template_id": 1,
            "type_id": 6,
            "priority_id": 2,
            "milestone_id": null,
            "refs": "ENG-400726",
            "created_by": 398,
            "created_on": 1709679676,
            "updated_by": 729,
            "updated_on": 1736856005,
            "estimate": null,
            "estimate_forecast": null,
            "suite_id": 921,
            "display_order": 3,
            "is_deleted": 0,
            "case_assignedto_id": null,
            "custom_automation_type": 0,
            "custom_automatable": 1,
            "custom_automated": 1,
            "custom_deprecatedtestcase": false,
            "custom_ui_case": 1,
            "custom_automation_id": null,
            "custom_hack_functional_sub_categories": 1,
            "custom_hack_test_categories": 3,
            "custom_hack_jira_escalated": false,
            "custom_appliance_support": 2,
            "custom_sub_component": 48,
            "custom_testrail_bdd_scenario": null,
            "custom_summary": null,
            "custom_preconds": null,
            "custom_steps": "- Create a tenant_footprint.json file with two footprints, enabling the second one.\n- Create a DEIP policy using the first footprint from the file.\n- Route traffic using nsclient or pxc.\n- Check that the DEP policy is matched, but the Egress IP is not used since footprint is disabled in tenant_footprint.json\n- Fallback should be VPOP IP if it enabled",
            "custom_expected": "- DEIP policy is matched\n- VPOP IP is used for traffic\n- Corresponding logs are displayed",
            "custom_steps_separated": null,
            "custom_mission": null,
            "custom_goals": null,
            "comments": [],
            "custom_keyword": [],
            "custom_stack_label": []
        },
        {
            "id": 1806458,
            "title": "Verify that the DEIP policy is matched, and ensure that regular IP is used since footprint mentioned in the policy is disabled",
            "section_id": 125298,
            "template_id": 1,
            "type_id": 6,
            "priority_id": 2,
            "milestone_id": null,
            "refs": "ENG-400726",
            "created_by": 398,
            "created_on": 1709679676,
            "updated_by": 729,
            "updated_on": 1736856005,
            "estimate": null,
            "estimate_forecast": null,
            "suite_id": 921,
            "display_order": 4,
            "is_deleted": 0,
            "case_assignedto_id": null,
            "custom_automation_type": 0,
            "custom_automatable": 1,
            "custom_automated": 1,
            "custom_deprecatedtestcase": false,
            "custom_ui_case": 1,
            "custom_automation_id": null,
            "custom_hack_functional_sub_categories": 1,
            "custom_hack_test_categories": 3,
            "custom_hack_jira_escalated": false,
            "custom_appliance_support": 2,
            "custom_sub_component": 48,
            "custom_testrail_bdd_scenario": null,
            "custom_summary": null,
            "custom_preconds": null,
            "custom_steps": "- Create a tenant_footprint.json file with two footprints, enabling the second one.\n- Create a DEIP policy using the first footprint from the file.\n- Route traffic using nsclient or pxc.\n- Check that the DEP policy is matched, but the Egress IP is not used since footprint is disabled in tenant_footprint.json\n- Fallback should be regular IP(vpop disabled)",
            "custom_expected": "- DEIP policy is matched\n- regular IP is used for traffic\n- Corresponding logs are displayed",
            "custom_steps_separated": null,
            "custom_mission": null,
            "custom_goals": null,
            "comments": [],
            "custom_keyword": [],
            "custom_stack_label": []
        }
    ]
}